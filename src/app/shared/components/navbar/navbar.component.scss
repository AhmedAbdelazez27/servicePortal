// Style offcanvas backdrop to cover full screen without blur
.offcanvas-backdrop,
.offcanvas-backdrop.show,
.offcanvas-backdrop.fade {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  filter: none !important;
  background-color: rgba(0, 0, 0, 0.5) !important;
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  min-width: 100vw !important;
  min-height: 100vh !important;
  max-width: 100vw !important;
  max-height: 100vh !important;
  margin: 0 !important;
  padding: 0 !important;
  border: none !important;
  z-index: 1040 !important;
  inset: 0 !important;
  box-sizing: border-box !important;
}

// Ensure offcanvas is above backdrop
.offcanvas.show {
  z-index: 1045 !important;
}

// Ensure backdrop covers full screen on all screen sizes
// Mobile and small tablets
@media (max-width: 991px) {
  .offcanvas-backdrop,
  .offcanvas-backdrop.show,
  .offcanvas-backdrop.fade {
    width: 100% !important;
    height: 100% !important;
    min-width: 100vw !important;
    min-height: 100vh !important;
    max-width: 100vw !important;
    max-height: 100vh !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    inset: 0 !important;
  }
}

// Medium screens (990px to 1380px) - Fix for this specific range
@media (min-width: 990px) and (max-width: 1380px) {
  .offcanvas-backdrop,
  .offcanvas-backdrop.show,
  .offcanvas-backdrop.fade {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    z-index: 1040 !important;
    width: 125vw !important;
    height: 167vh !important;
    background-color: rgba(0, 0, 0, 0.5) !important;
    margin: 0 !important;
    padding: 0 !important;
    border: none !important;
  }
  
  // Ensure body doesn't have margins that affect backdrop
  body:has(.offcanvas.show) {
    margin: 0 !important;
    padding: 0 !important;
  }
}

// Large screens (above 1380px)
@media (min-width: 1381px) {
  .offcanvas-backdrop,
  .offcanvas-backdrop.show,
  .offcanvas-backdrop.fade {
    width: 100% !important;
    height: 100% !important;
    min-width: 100vw !important;
    min-height: 100vh !important;
    max-width: 100vw !important;
    max-height: 100vh !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    inset: 0 !important;
  }
}

// Ensure body and html don't interfere with backdrop
body:has(.offcanvas.show),
html:has(.offcanvas.show) {
  overflow: hidden !important;
  margin: 0 !important;
  padding: 0 !important;
  width: 100% !important;
  height: 100% !important;
}

// Fix for medium screen sizes (990px to 1380px)
@media (min-width: 992px) and (max-width: 1380px) {
  body:has(.offcanvas.show),
  html:has(.offcanvas.show) {
    margin: 0 !important;
    padding: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    overflow: hidden !important;
  }
  
  // Ensure no parent containers affect backdrop
  body:has(.offcanvas.show) > * {
    position: relative !important;
  }
}

// Remove blur from body and main content when offcanvas is open
body.offcanvas-open,
body:has(.offcanvas.show) {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  filter: none !important;
  position: relative !important;
}

// Remove blur from navbar and main content
nav,
.main-content,
.container,
.container-fluid {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  filter: none !important;
}

// Fix for medium screens (990px to 1380px) - Applied at the end to override all other styles
@media (min-width: 990px) and (max-width: 1380px) {
  .offcanvas-backdrop,
  .offcanvas-backdrop.show,
  .offcanvas-backdrop.fade {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    z-index: 1040 !important;
    width: 125vw !important;
    height: 167vh !important;
    background-color: rgba(0, 0, 0, 0.5) !important;
    margin: 0 !important;
    padding: 0 !important;
    border: none !important;
    right: auto !important;
    bottom: auto !important;
  }
}
