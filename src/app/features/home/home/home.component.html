<div id="carouselExampleCaptions" class="carousel slide" *ngIf="!heroSectionsLoading && heroSections.length > 0">

    <div class="carousel-inner">
        <div class="carousel-item" 
             *ngFor="let heroSection of heroSections; let i = index" 
             [class.active]="i === 0">
            <img [src]="getHeroSectionImage(heroSection)" 
                 class="d-block w-100" 
                 (error)="onImageError($event)"
                 [alt]="getHeroSectionTitle(heroSection)" />
            <div class="carousel-caption d-none d-md-block">
                <h5>{{ getHeroSectionTitle(heroSection) }}</h5>
                <p *ngIf="getHeroSectionDescription(heroSection)">{{ getHeroSectionDescription(heroSection) }}</p>
                <div class="d-flex justify-content-end">
                    <button class="btn btn-gold" (click)="onHeroSectionDetails(heroSection)">
                        {{ 'HOME.READ_MORE' | translate }}
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path
                                d="M13.5201 18.9998C13.7825 18.9987 14.0339 18.8946 14.2201 18.7098L18.8101 14.1198C19.3719 13.5573 19.6875 12.7948 19.6875 11.9998C19.6875 11.2048 19.3719 10.4423 18.8101 9.87982L14.2201 5.28982C14.0328 5.10356 13.7793 4.99902 13.5151 4.99902C13.251 4.99902 12.9975 5.10356 12.8101 5.28982C12.7164 5.38278 12.642 5.49338 12.5912 5.61524C12.5405 5.7371 12.5143 5.8678 12.5143 5.99982C12.5143 6.13183 12.5405 6.26253 12.5912 6.38439C12.642 6.50625 12.7164 6.61685 12.8101 6.70982L17.4001 11.2898C17.4939 11.3828 17.5683 11.4934 17.619 11.6152C17.6698 11.7371 17.6959 11.8678 17.6959 11.9998C17.6959 12.1318 17.6698 12.2625 17.619 12.3844C17.5683 12.5063 17.4939 12.6169 17.4001 12.7098L12.8101 17.2898C12.7164 17.3828 12.642 17.4934 12.5912 17.6152C12.5405 17.7371 12.5143 17.8678 12.5143 17.9998C12.5143 18.1318 12.5405 18.2625 12.5912 18.3844C12.642 18.5063 12.7164 18.6169 12.8101 18.7098C12.9036 18.8025 13.0144 18.8758 13.1362 18.9256C13.2581 18.9754 13.3885 19.0006 13.5201 18.9998Z"
                                fill="white" />
                            <path
                                d="M6.52033 18.9998C6.78267 18.9987 7.03406 18.8946 7.22032 18.7098L13.2203 12.7098C13.314 12.6169 13.3884 12.5063 13.4392 12.3844C13.49 12.2625 13.5161 12.1318 13.5161 11.9998C13.5161 11.8678 13.49 11.7371 13.4392 11.6152C13.3884 11.4934 13.314 11.3828 13.2203 11.2898L7.22032 5.28982C7.03296 5.10356 6.77951 4.99902 6.51533 4.99902C6.25114 4.99902 5.99769 5.10356 5.81033 5.28982C5.7166 5.38278 5.6422 5.49338 5.59144 5.61524C5.54067 5.7371 5.51453 5.8678 5.51453 5.99982C5.51453 6.13183 5.54067 6.26253 5.59144 6.38439C5.6422 6.50625 5.7166 6.61685 5.81033 6.70982L11.1003 11.9998L5.81033 17.2898C5.7166 17.3828 5.6422 17.4934 5.59144 17.6152C5.54067 17.7371 5.51453 17.8678 5.51453 17.9998C5.51453 18.1318 5.54067 18.2625 5.59144 18.3844C5.6422 18.5063 5.7166 18.6169 5.81033 18.7098C5.90377 18.8025 6.01458 18.8758 6.13642 18.9256C6.25826 18.9754 6.38872 19.0006 6.52033 18.9998Z"
                                fill="white" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Carousel Indicators -->
    <div class="carousel-indicators" *ngIf="heroSections.length > 1">
        <button type="button" 
                *ngFor="let heroSection of heroSections; let i = index"
                data-bs-target="#carouselExampleCaptions" 
                [attr.data-bs-slide-to]="i" 
                [class.active]="i === 0"
                [attr.aria-current]="i === 0 ? 'true' : null"
                [attr.aria-label]="'Slide ' + (i + 1)">
        </button>
    </div>

</div>

<!-- Loading State -->
<div *ngIf="heroSectionsLoading" class="text-center py-5">
    <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">{{ 'COMMON.LOADING' | translate }}</span>
    </div>
    <p class="mt-2">{{ 'COMMON.LOADING' | translate }}</p>
</div>

<!-- Error State -->
<div *ngIf="heroSectionsError && !heroSectionsLoading" class="text-center py-5">
    <div class="alert alert-warning" role="alert">
        {{ heroSectionsError | translate }}
    </div>
</div>

<!-- Fallback when no hero sections -->
<div *ngIf="!heroSectionsLoading && heroSections.length === 0 && !heroSectionsError" class="text-center py-5">
    <div class="alert alert-info" role="alert">
        {{ 'HOME.NO_HERO_SECTIONS' | translate }}
    </div>
</div>

<section>
    <div class="container">
        <h4 class="title">{{ 'HOME.SERVICES' | translate }}</h4>
        <div class="owl-theme">

            <ng-container *ngIf="customOptions && !loading">
                <owl-carousel-o #owlCarousel [options]="customOptions">
                    <ng-container *ngFor="let service of services; let i = index">
                        <ng-template carouselSlide>
                            <div class="item">
                                <div class="service-box">
                                    <div class="d-flex gap-3 align-items-center mb-4">
                                        <div class="service-icon">
                                            <!-- Dynamic icons using ngSwitch with cycling -->
                                            <ng-container [ngSwitch]="getIconIndex(i)">
                                                
                                                <!-- Icon 1: Settings/Gear -->
                                                <svg *ngSwitchCase="0" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                                    <g [attr.clip-path]="'url(#clip0_206_14805_' + i + ')'">
                                                        <path d="M11.5568 6.31816C11.5914 6.31789 11.626 6.31763 11.6617 6.31735C11.7349 6.31691 11.8081 6.3166 11.8813 6.31642C11.993 6.31597 12.1046 6.31451 12.2162 6.31303C12.2874 6.31273 12.3586 6.31248 12.4299 6.3123C12.4631 6.31172 12.4963 6.31114 12.5305 6.31055C12.737 6.31147 12.8664 6.34202 13.0308 6.46831C13.0881 6.56114 13.0881 6.56114 13.1275 6.6646C13.1433 6.70182 13.159 6.73904 13.1753 6.77739C13.2183 6.89018 13.2183 6.89018 13.2452 6.99126C13.2945 7.13929 13.3431 7.232 13.4852 7.30718C13.6486 7.37746 13.8153 7.43449 13.9846 7.48894C14.1558 7.54643 14.1558 7.54643 14.2964 7.64018C14.5567 7.62066 14.7666 7.5138 14.9996 7.40398C15.1664 7.35052 15.2544 7.35512 15.4214 7.40581C15.53 7.48125 15.53 7.48125 15.6353 7.58159C15.6949 7.63824 15.6949 7.63824 15.7558 7.69603C15.7771 7.71694 15.7985 7.73786 15.8205 7.75941C15.8967 7.83404 15.9738 7.90763 16.0509 7.98131C16.1058 8.03452 16.1606 8.0878 16.2154 8.14116C16.2414 8.16619 16.2675 8.19122 16.2943 8.21701C16.4494 8.37094 16.5569 8.51232 16.6402 8.71831C16.6402 8.96655 16.515 9.17312 16.404 9.38939C16.3133 9.64274 16.4462 9.86685 16.5435 10.104C16.5559 10.135 16.5683 10.1659 16.5811 10.1977C16.6157 10.283 16.6513 10.3679 16.6871 10.4527C16.6983 10.4878 16.7095 10.523 16.7211 10.5592C16.8209 10.6945 16.9761 10.7302 17.1294 10.7837C17.5251 10.9249 17.5251 10.9249 17.6246 11.0621C17.6803 11.2293 17.6799 11.3827 17.681 11.5568C17.6812 11.5914 17.6815 11.626 17.6818 11.6617C17.6822 11.7349 17.6825 11.8081 17.6827 11.8813C17.6831 11.993 17.6846 12.1046 17.6861 12.2162C17.6864 12.2874 17.6866 12.3586 17.6868 12.4299C17.6874 12.4631 17.688 12.4963 17.6886 12.5305C17.6876 12.737 17.6571 12.8664 17.5308 13.0308C17.438 13.0881 17.438 13.0881 17.3345 13.1275C17.2973 13.1433 17.2601 13.159 17.2217 13.1753C17.1089 13.2183 17.1089 13.2183 17.0079 13.2452C16.8598 13.2945 16.7671 13.3431 16.6919 13.4852C16.6216 13.6486 16.5646 13.8153 16.5102 13.9846C16.4527 14.1558 16.4527 14.1558 16.3589 14.2964C16.3785 14.5567 16.4853 14.7666 16.5951 14.9996C16.6486 15.1664 16.644 15.2544 16.5933 15.4214C16.5179 15.53 16.5179 15.53 16.4175 15.6353C16.3609 15.6949 16.3609 15.6949 16.3031 15.7558C16.2822 15.7771 16.2613 15.7985 16.2397 15.8205C16.1651 15.8967 16.0915 15.9738 16.0178 16.0509C15.9646 16.1058 15.9113 16.1606 15.858 16.2154C15.8329 16.2414 15.8079 16.2675 15.7821 16.2943C15.6282 16.4494 15.4868 16.5569 15.2808 16.6402C15.0756 16.6402 14.9228 16.558 14.7417 16.4703C14.5501 16.3815 14.5501 16.3815 14.3433 16.3531C14.1656 16.4197 13.9935 16.4955 13.822 16.5768C13.6871 16.6402 13.6871 16.6402 13.5162 16.6962C13.316 16.8039 13.2719 16.9259 13.2066 17.1324C13.073 17.5265 13.073 17.5265 12.9371 17.6246C12.7698 17.6803 12.6165 17.6799 12.4423 17.681C12.4077 17.6812 12.3731 17.6815 12.3374 17.6818C12.2642 17.6822 12.191 17.6825 12.1178 17.6827C12.0061 17.6831 11.8946 17.6846 11.7829 17.6861C11.7117 17.6864 11.6405 17.6866 11.5693 17.6868C11.536 17.6874 11.5028 17.688 11.4686 17.6886C11.2621 17.6876 11.1327 17.6571 10.9683 17.5308C10.911 17.438 10.911 17.438 10.8716 17.3345C10.856 17.2974 10.8404 17.2602 10.8244 17.2219C10.797 17.1508 10.7715 17.079 10.7489 17.0062C10.6829 16.8268 10.6297 16.7526 10.4558 16.6634C10.3508 16.6235 10.2449 16.586 10.1381 16.5514C9.98393 16.4996 9.98393 16.4996 9.84148 16.4199C9.67203 16.3455 9.59776 16.3558 9.42143 16.4058C9.2783 16.4643 9.13941 16.5292 8.99956 16.5951C8.83537 16.6477 8.74271 16.6387 8.57768 16.5933C8.53128 16.5624 8.48487 16.5314 8.43706 16.4996C8.43706 16.4686 8.43706 16.4377 8.43706 16.4058C8.40612 16.4058 8.37518 16.4058 8.34331 16.4058C8.34331 16.3749 8.34331 16.3439 8.34331 16.3121C8.28143 16.2811 8.21956 16.2502 8.15581 16.2183C8.15581 16.1874 8.15581 16.1564 8.15581 16.1246C8.1123 16.1072 8.1123 16.1072 8.06792 16.0894C7.94939 16.0197 7.93463 15.9635 7.87456 15.8433C7.81244 15.8113 7.74996 15.78 7.68706 15.7496C7.67159 15.7032 7.65612 15.6567 7.64018 15.6089C7.59378 15.5935 7.54737 15.578 7.49956 15.5621C7.40828 15.4219 7.35893 15.3234 7.35893 15.1548C7.41719 14.9619 7.50317 14.7888 7.59514 14.6097C7.68586 14.3564 7.55287 14.1323 7.45561 13.8951C7.43699 13.8487 7.43699 13.8487 7.41798 13.8014C7.38343 13.7161 7.34778 13.6312 7.31206 13.5464C7.30082 13.5113 7.28958 13.4761 7.278 13.4399C7.17826 13.3046 7.02302 13.2689 6.86967 13.2154C6.47397 13.0742 6.47397 13.0742 6.37456 12.9371C6.31881 12.7698 6.3192 12.6165 6.31816 12.4423C6.31789 12.4077 6.31763 12.3731 6.31735 12.3374C6.31691 12.2642 6.3166 12.191 6.31642 12.1178C6.31597 12.0061 6.31451 11.8946 6.31303 11.7829C6.31273 11.7117 6.31248 11.6405 6.3123 11.5693C6.31172 11.536 6.31114 11.5028 6.31055 11.4686C6.31147 11.2621 6.34202 11.1327 6.46831 10.9683C6.56114 10.911 6.56114 10.911 6.6646 10.8716C6.70182 10.8559 6.73904 10.8401 6.77739 10.8238C6.89018 10.7808 6.89018 10.7808 6.99126 10.7539C7.13929 10.7046 7.232 10.656 7.30718 10.5139C7.37746 10.3505 7.43449 10.1838 7.48894 10.0145C7.54643 9.84331 7.54643 9.84331 7.64018 9.70268C7.62066 9.44239 7.5138 9.23255 7.40398 8.99956C7.35052 8.83267 7.35512 8.74476 7.40581 8.57768C7.48125 8.4691 7.48125 8.4691 7.58159 8.36381C7.61935 8.32405 7.65712 8.2843 7.69603 8.24333C7.71694 8.22199 7.73786 8.20064 7.75941 8.17865C7.83404 8.10244 7.90763 8.0253 7.98131 7.94816C8.03452 7.89329 8.0878 7.83848 8.14116 7.78374C8.16619 7.75769 8.19122 7.73164 8.21701 7.70481C8.37094 7.54966 8.51232 7.4422 8.71831 7.35893C8.96655 7.35893 9.17312 7.48409 9.38939 7.59514C9.64274 7.68586 9.86685 7.55287 10.104 7.45561C10.135 7.44319 10.1659 7.43078 10.1977 7.41798C10.283 7.38343 10.3679 7.34778 10.4527 7.31206C10.4878 7.30082 10.523 7.28958 10.5592 7.278C10.6945 7.17826 10.7302 7.02302 10.7837 6.86967C10.9249 6.47397 10.9249 6.47397 11.0621 6.37456C11.2293 6.31881 11.3827 6.3192 11.5568 6.31816Z" fill="white"/>
                                                    </g>
                                                    <defs>
                                                        <clipPath [attr.id]="'clip0_206_14805_' + i">
                                                            <rect width="24" height="24" fill="white"/>
                                                        </clipPath>
                                                    </defs>
                                                </svg>
                                                
                                                <!-- Icon 2: Chart/Analytics -->
                                                <svg *ngSwitchCase="1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                                    <path d="M3 3V21H21" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                    <path d="M9 9L12 6L16 10L21 5" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                    <path d="M21 5H17V9" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                </svg>
                                                
                                                <!-- Icon 3: Users/Team -->
                                                <svg *ngSwitchCase="2" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                                    <path d="M17 21V19C17 17.9391 16.5786 16.9217 15.8284 16.1716C15.0783 15.4214 14.0609 15 13 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                    <circle cx="9" cy="7" r="4" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                    <path d="M23 21V19C23 18.1645 22.7206 17.3541 22.2064 16.6977C21.6922 16.0414 20.9757 15.5787 20.1613 15.3803" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                    <path d="M16 3.13C16.8144 3.32844 17.5309 3.79108 18.0451 4.44749C18.5593 5.1039 18.8387 5.91427 18.8387 6.74999C18.8387 7.58571 18.5593 8.39608 18.0451 9.05249C17.5309 9.7089 16.8144 10.1715 16 10.37" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                </svg>
                                                
                                                <!-- Icon 4: Rocket/Innovation -->
                                                <svg *ngSwitchCase="3" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                                    <path d="M4.5 16.5C4.5 16.5 5.5 15.5 8 15.5C10.5 15.5 11.5 16.5 11.5 16.5" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                    <path d="M12 15L19.5 7.5C20.1213 6.87868 20.1213 5.87132 19.5 5.25C18.8787 4.62868 17.8713 4.62868 17.25 5.25L9.75 12.75L12 15Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                    <path d="M7 17C6 18 4 18 4 18S4 16 5 15" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                    <path d="M15 9L21 3" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                    <path d="M9 21L21 9" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                </svg>
                                                
                                                <!-- Icon 5: Lightbulb/Ideas -->
                                                <svg *ngSwitchCase="4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                                    <path d="M9 21H15" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                    <path d="M12 3C8.68629 3 6 5.68629 6 9C6 10.2145 6.41496 11.3361 7.11407 12.2209C7.6055 12.8563 8 13.6326 8 14.5V17C8 17.5523 8.44772 18 9 18H15C15.5523 18 16 17.5523 16 17V14.5C16 13.6326 16.3945 12.8563 16.8859 12.2209C17.585 11.3361 18 10.2145 18 9C18 5.68629 15.3137 3 12 3Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                </svg>
                                                
                                                <!-- Default case (fallback) -->
                                                <svg *ngSwitchDefault xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                                    <circle cx="12" cy="12" r="9" stroke="white" stroke-width="2"/>
                                                    <path d="M12 6V12L16 14" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                </svg>
                                                
                                            </ng-container>
                                        </div>
                                        <span>{{ getServiceName(service) }}</span>
                                    </div>
                                    <p class="mb-4">{{ getServiceDescription(service) || ('HOME.SERVICE_CARDS.NO_DESCRIPTION' | translate) }}</p>
                                    <div class="d-flex justify-content-end">
                                        <button class="btn btn-link" (click)="onServiceDetails(service)">
                                            {{ 'HOME.MORE' | translate }}
                                            <svg xmlns="http://www.w3.org/2000/svg" width="7" height="12" viewBox="0 0 7 12"
                                                fill="none">
                                                <path d="M1.1665 11L6.1665 6L1.1665 1" stroke="black" stroke-width="1.5"
                                                    stroke-linecap="round" stroke-linejoin="round" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                    </ng-container>
                </owl-carousel-o>
            </ng-container>

            <!-- Loading state -->
            <div *ngIf="loading" class="text-center py-4">
                <div class="spinner-border" role="status">
                    <span class="visually-hidden">{{ 'HOME.SERVICE_CARDS.LOADING' | translate }}</span>
                </div>
            </div>

            <!-- Error state -->
            <div *ngIf="error && !loading" class="alert alert-danger" role="alert">
                {{ error | translate }}
            </div>

            <!-- No services state -->
            <div *ngIf="!loading && !error && services.length === 0" class="text-center py-4">
                <p>{{ 'HOME.SERVICE_CARDS.NO_SERVICES' | translate }}</p>
            </div>

        </div>

        <div class="position-relative">
            <button class="show-all" (click)="onShowAllServices()">
                {{ 'HOME.SHOW_ALL_SERVICES' | translate }}
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path
                        d="M13.5201 18.9998C13.7825 18.9987 14.0339 18.8946 14.2201 18.7098L18.8101 14.1198C19.3719 13.5573 19.6875 12.7948 19.6875 11.9998C19.6875 11.2048 19.3719 10.4423 18.8101 9.87982L14.2201 5.28982C14.0328 5.10356 13.7793 4.99902 13.5151 4.99902C13.251 4.99902 12.9975 5.10356 12.8101 5.28982C12.7164 5.38278 12.642 5.49338 12.5912 5.61524C12.5405 5.7371 12.5143 5.8678 12.5143 5.99982C12.5143 6.13183 12.5405 6.26253 12.5912 6.38439C12.642 6.50625 12.7164 6.61685 12.8101 6.70982L17.4001 11.2898C17.4939 11.3828 17.5683 11.4934 17.619 11.6152C17.6698 11.7371 17.6959 11.8678 17.6959 11.9998C17.6959 12.1318 17.6698 12.2625 17.619 12.3844C17.5683 12.5063 17.4939 12.6169 17.4001 12.7098L12.8101 17.2898C12.7164 17.3828 12.642 17.4934 12.5912 17.6152C12.5405 17.7371 12.5143 17.8678 12.5143 17.9998C12.5143 18.1318 12.5405 18.2625 12.5912 18.3844C12.642 18.5063 12.7164 18.6169 12.8101 18.7098C12.9036 18.8025 13.0144 18.8758 13.1362 18.9256C13.2581 18.9754 13.3885 19.0006 13.5201 18.9998Z"
                    fill="#374957" />
                    <path
                        d="M6.52033 18.9998C6.78267 18.9987 7.03406 18.8946 7.22032 18.7098L13.2203 12.7098C13.314 12.6169 13.3884 12.5063 13.4392 12.3844C13.49 12.2625 13.5161 12.1318 13.5161 11.9998C13.5161 11.8678 13.49 11.7371 13.4392 11.6152C13.3884 11.4934 13.314 11.3828 13.2203 11.2898L7.22032 5.28982C7.03296 5.10356 6.77951 4.99902 6.51533 4.99902C6.25114 4.99902 5.99769 5.10356 5.81033 5.28982C5.7166 5.38278 5.6422 5.49338 5.59144 5.61524C5.54067 5.7371 5.51453 5.8678 5.51453 5.99982C5.51453 6.13183 5.54067 6.26253 5.59144 6.38439C5.6422 6.50625 5.7166 6.61685 5.81033 6.70982L11.1003 11.9998L5.81033 17.2898C5.7166 17.3828 5.6422 17.4934 5.59144 17.6152C5.54067 17.7371 5.51453 17.8678 5.51453 17.9998C5.51453 18.1318 5.54067 18.2625 5.59144 18.3844C5.6422 18.5063 5.7166 18.6169 5.81033 18.7098C5.90377 18.8025 6.01458 18.8758 6.13642 18.9256C6.25826 18.9754 6.38872 19.0006 6.52033 18.9998Z"
                    fill="#374957" />
                </svg>
            </button>
        </div>

    </div>
</section>




 

<!-- Initiatives Section -->
<section>
    <div class="container">
        <h3 class="title">{{ 'HOME.INITIATIVES.TITLE' | translate }}</h3>
        
        <!-- Loading State -->
        <div *ngIf="initiativesLoading" class="text-center py-5">
            <div class="spinner-border" role="status">
                <span class="visually-hidden">{{ 'COMMON.LOADING' | translate }}</span>
            </div>
            <p class="mt-3">{{ 'COMMON.LOADING_DATA' | translate }}</p>
        </div>

        <!-- Error State -->
        <div *ngIf="initiativesError && !initiativesLoading" class="text-center py-5">
            <div class="alert alert-danger" role="alert">
                <h5>{{ 'COMMON.ERROR' | translate }}</h5>
                <p>{{ initiativesError | translate }}</p>
                <button class="btn btn-primary" (click)="loadInitiatives()">
                    {{ 'COMMON.REFRESH' | translate }}
                </button>
            </div>
        </div>

        <!-- Content -->
        <div *ngIf="!initiativesLoading && !initiativesError" class="owl-theme">
            <ng-container *ngIf="initiativesOptions && initiatives.length > 0">
                <owl-carousel-o #owlCarouselInitiatives [options]="initiativesOptions">
                    <ng-container *ngFor="let initiative of initiatives; let i = index">
                        <ng-template carouselSlide>
                            <div class="item">
                                <div class="service-box" (click)="onInitiativeDetails(initiative)">
                                    <div class="mb-3">
                                        <img [src]="getInitiativeImage(initiative)" 
                                             [alt]="getInitiativeName(initiative)"
                                             class="w-100"
                                             (error)="onImageError($event)">
                                    </div>
                                    <span class="mb-3 d-block">{{ getInitiativeName(initiative) }}</span>
                                    <p class="mb-4">{{ getInitiativeDescription(initiative) }}</p>
                                    <div class="d-flex justify-content-end">
                                        <button class="btn btn-link">
                                            {{ 'HOME.MORE' | translate }}
                                            <svg xmlns="http://www.w3.org/2000/svg" width="7" height="12" viewBox="0 0 7 12" fill="none">
                                                <path d="M1.1665 11L6.1665 6L1.1665 1" stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                    </ng-container>
                </owl-carousel-o>
            </ng-container>
        </div>

        <!-- No Data State -->
        <div *ngIf="!initiativesLoading && !initiativesError && initiatives.length === 0" class="text-center py-5">
            <div class="alert alert-info" role="alert">
                <h5>{{ 'HOME.INITIATIVES.NO_INITIATIVES' | translate }}</h5>
                <p>{{ 'HOME.INITIATIVES.NO_INITIATIVES_DESCRIPTION' | translate }}</p>
            </div>
        </div>



        <div class="position-relative">
            <button class="show-all" (click)="onShowAllInitiatives()">
                {{ 'HOME.SHOW_ALL_INITIATIVES' | translate }}
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M13.5201 18.9998C13.7825 18.9987 14.0339 18.8946 14.2201 18.7098L18.8101 14.1198C19.3719 13.5573 19.6875 12.7948 19.6875 11.9998C19.6875 11.2048 19.3719 10.4423 18.8101 9.87982L14.2201 5.28982C14.0328 5.10356 13.7793 4.99902 13.5151 4.99902C13.251 4.99902 12.9975 5.10356 12.8101 5.28982C12.7164 5.38278 12.642 5.49338 12.5912 5.61524C12.5405 5.7371 12.5143 5.8678 12.5143 5.99982C12.5143 6.13183 12.5405 6.26253 12.5912 6.38439C12.642 6.50625 12.7164 6.61685 12.8101 6.70982L17.4001 11.2898C17.4939 11.3828 17.5683 11.4934 17.619 11.6152C17.6698 11.7371 17.6959 11.8678 17.6959 11.9998C17.6959 12.1318 17.6698 12.2625 17.619 12.3844C17.5683 12.5063 17.4939 12.6169 17.4001 12.7098L12.8101 17.2898C12.7164 17.3828 12.642 17.4934 12.5912 17.6152C12.5405 17.7371 12.5143 17.8678 12.5143 17.9998C12.5143 18.1318 12.5405 18.2625 12.5912 18.3844C12.642 18.5063 12.7164 18.6169 12.8101 18.7098C12.9036 18.8025 13.0144 18.8758 13.1362 18.9256C13.2581 18.9754 13.3885 19.0006 13.5201 18.9998Z" fill="#374957" />
                    <path d="M6.52033 18.9998C6.78267 18.9987 7.03406 18.8946 7.22032 18.7098L13.2203 12.7098C13.314 12.6169 13.3884 12.5063 13.4392 12.3844C13.49 12.2625 13.5161 12.1318 13.5161 11.9998C13.5161 11.8678 13.49 11.7371 13.4392 11.6152C13.3884 11.4934 13.314 11.3828 13.2203 11.2898L7.22032 5.28982C7.03296 5.10356 6.77951 4.99902 6.51533 4.99902C6.25114 4.99902 5.99769 5.10356 5.81033 5.28982C5.7166 5.38278 5.6422 5.49338 5.59144 5.61524C5.54067 5.7371 5.51453 5.8678 5.51453 5.99982C5.51453 6.13183 5.54067 6.26253 5.59144 6.38439C5.6422 6.50625 5.7166 6.61685 5.81033 6.70982L11.1003 11.9998L5.81033 17.2898C5.7166 17.3828 5.6422 17.4934 5.59144 17.6152C5.54067 17.7371 5.51453 17.8678 5.51453 17.9998C5.51453 18.1318 5.54067 18.2625 5.59144 18.3844C5.6422 18.5063 5.7166 18.6169 5.81033 18.7098C5.90377 18.8025 6.01458 18.8758 6.13642 18.9256C6.25826 18.9754 6.38872 19.0006 6.52033 18.9998Z" fill="#374957" />
                </svg>
            </button>
        </div>
    </div>
</section>

<!-- Contact Us Section -->
<app-contact-us></app-contact-us>